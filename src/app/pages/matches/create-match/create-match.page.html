<section class="create-match-page">

  <h1>Eksik Oyuncu Bul</h1>
  <p class="subtitle">
    MaÃ§ bilgilerini gir, uygun oyuncular baÅŸvuruda bulunsun.
  </p>

  <div class="layout">

    <!-- FORM CARD -->
    <form class="form-card">

      <input
        type="text"
        placeholder="HalÄ± saha adÄ±"
        [(ngModel)]="form.location_name"
        name="location"
      />

      <div class="grid-2">
        <input
          type="text"
          placeholder="Åehir"
          [(ngModel)]="form.city"
          name="city"
        />
        <input
          type="text"
          placeholder="Ä°lÃ§e"
          [(ngModel)]="form.district"
          name="district"
        />
      </div>

      <div class="grid-2">
        <input
          type="date"
          [min]="today"
          [(ngModel)]="form.match_date"
          name="date"
        />
        <input
          type="time"
          [(ngModel)]="form.match_time"
          name="time"
        />
      </div>

      <div class="grid-2">
        <input
          type="number"
          min="1"
          max="10"
          placeholder="KaÃ§ oyuncu eksik?"
          [(ngModel)]="form.required_players"
          name="players"
        />
        <input
          type="number"
          min="0"
          placeholder="Oyuncu baÅŸÄ± Ã¼cret (â‚º)"
          [(ngModel)]="form.price_per_player"
          name="price"
        />
      </div>

      <button
        type="button"
        class="primary-btn"
        (click)="publish()"
        [disabled]="!canPublish()"
      >
        MaÃ§ Ä°lanÄ±nÄ± YayÄ±nla
      </button>

    </form>

    <!-- PREVIEW CARD -->
    <div class="preview-card">

      <h3>CanlÄ± Ã–nizleme</h3>

      <div class="match-card">
        <div class="location">
          ğŸ“ {{ form.location_name || 'HalÄ± saha adÄ±' }}
        </div>

        <div class="meta">
          {{ form.city || 'Åehir' }}
          <span *ngIf="form.district"> / {{ form.district }}</span>
        </div>

        <div class="meta">
          ğŸ•’ {{ form.match_time || '--:--' }}
          â€¢ {{ form.match_date || 'Tarih' }}
        </div>

        <div class="meta">
          ğŸ‘¥ {{ form.required_players || 0 }} oyuncu aranÄ±yor
        </div>

        <div class="price">
          {{ form.price_per_player ? form.price_per_player + ' â‚º' : 'Ãœcretsiz' }}
        </div>
      </div>

    </div>

  </div>
</section>

<!-- SUCCESS MODAL -->
<div class="modal-backdrop" *ngIf="showSuccess" (click)="closeModal()">
  <div class="success-modal" (click)="$event.stopPropagation()">
    <div class="icon">âœ…</div>
    <h3>Ä°lanÄ±nÄ±z yayÄ±nlandÄ±</h3>
    <p>
      MaÃ§ ilanÄ±nÄ±z baÅŸarÄ±yla oluÅŸturuldu.  
      Uygun oyuncular baÅŸvuruda bulunabilir.
    </p>
    <button class="primary-btn" (click)="closeModal()">Tamam</button>
  </div>
</div>
