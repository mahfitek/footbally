<div class="hero-card fifa-card" [attr.data-tier]="cardTier">

  <!-- LEFT TOP -->
  <div class="card-left-top">
    <div class="overall" [class.locked]="!isPremium">
      <ng-container *ngIf="isPremium; else lockedRating">
        {{ rating }}
      </ng-container>
      <ng-template #lockedRating>ğŸ”’</ng-template>
    </div>

    <div class="position">{{ position }}</div>
    <img class="club-logo" [src]="getClubLogo()" alt="KulÃ¼p Logo" />
  </div>

  <!-- IMAGE -->
  <div class="player-image">

    <!-- KAYITLI FOTO VAR -->
    <ng-container *ngIf="photoPreviewUrl; else uploadState">
      <img [src]="photoPreviewUrl" class="player-photo" />

      <label class="change-photo-btn">
        FotoÄŸrafÄ± DeÄŸiÅŸtir
        <input type="file" accept="image/*" hidden (change)="onPhotoSelected($event)" />
      </label>
    </ng-container>

    <!-- UPLOAD / PREVIEW STATE -->
    <ng-template #uploadState>

      <!-- PREVIEW VAR -->
      <ng-container *ngIf="tempPhotoPreviewUrl; else emptyState">

        <img [src]="tempPhotoPreviewUrl" class="player-photo preview" />

        <div class="photo-actions">
          <button class="save-photo-btn" (click)="savePhoto()">Kaydet</button>

          <label class="change-photo-btn">
            DeÄŸiÅŸtir
            <input type="file" accept="image/*" hidden (change)="onPhotoSelected($event)" />
          </label>
        </div>

      </ng-container>

      <!-- HÄ°Ã‡ FOTO YOK -->
      <ng-template #emptyState>
        <label class="upload-btn">
          <div class="photo-circle">
            <span>FotoÄŸraf ekle</span>
          </div>
          <input type="file" accept="image/*" hidden (change)="onPhotoSelected($event)" />
        </label>
      </ng-template>

    </ng-template>

  </div>

  <!-- NAME -->
  <div class="player-name">{{ fullName }}</div>

  <!-- STATS -->
  <div class="stats" *ngIf="stats; else lockedStats">
    <div class="stat"><span class="value">{{ stats.hiz }}</span><span class="label">HIZ</span></div>
    <div class="stat"><span class="value">{{ stats.sut }}</span><span class="label">ÅUT</span></div>
    <div class="stat"><span class="value">{{ stats.pas }}</span><span class="label">PAS</span></div>
    <div class="stat"><span class="value">{{ stats.dripling }}</span><span class="label">DRÄ°PLÄ°NG</span></div>
    <div class="stat"><span class="value">{{ stats.defans }}</span><span class="label">DEFANS</span></div>
    <div class="stat"><span class="value">{{ stats.fizik }}</span><span class="label">FÄ°ZÄ°K</span></div>
  </div>

  <ng-template #lockedStats>
    <div class="stats locked">
      <span>AI analiz statâ€™larÄ± premium ile aÃ§Ä±lÄ±r</span>
    </div>
  </ng-template>

  <!-- FOOTER -->
  <div class="card-footer">
    <span class="tier">{{ cardTier | uppercase }}</span>
    <span class="premium" *ngIf="isPremium">PREMIUM</span>
  </div>

  <div class="promo-note" *ngIf="promoComingSoon">
    Promo kartlar yakÄ±nda eklenecek
  </div>

</div>
